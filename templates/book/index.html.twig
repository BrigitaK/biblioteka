{% extends 'base.html.twig' %}

{% block title %}Books List!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>Books in Library! âœ…</h1>

    List filter by:
    <form action="{{ path('book_index')}}" method="GET">
        <select name="author_id">
         <option value="0">View All</option>
            {% for author in authors %}
            <option value="{{author.id}}" {% if authorId == author.id %} selected {% endif %}>{{author.name}} {{author.surname}}</option>
            {% endfor %}
        </select>
        <button type="submit">Filter it!</button>
    </form>
    <a href="{{ path('book_index')}}">clear</a>
    <ul>
    {% for book in books %}
        <li>
        {{book.title}} {{book.author.name}} {{book.author.surname}}
        <a href="{{ path('book_edit', {id: book.id}) }}">Edit</a>
        <form action="{{ path('book_delete', {id: book.id}) }}" method="POST">
        <button type="submit">DELETE</button>
        </form>
        </li>
    {% endfor %}
    </ul>
</div>
{% endblock %}
